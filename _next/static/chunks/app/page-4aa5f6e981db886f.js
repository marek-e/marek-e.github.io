(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{27828:(e,r,t)=>{Promise.resolve().then(t.bind(t,98622))},98622:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>M});var a=t(95155),l=t(56965),n=t(94754),s=t(96025),o=t(16238),c=t(21374),d=t(12115),i=t(83540),u=t(94517),m=t(24026),h=t(52596),f=t(39688);function x(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,f.QP)((0,h.$)(r))}let g={light:"",dark:".dark"},p=d.createContext(null);function b(e){let{id:r,className:t,children:l,config:n,...s}=e,o=d.useId(),c="chart-".concat(r||o.replace(/:/g,""));return(0,a.jsx)(p.Provider,{value:{config:n},children:(0,a.jsxs)("div",{"data-slot":"chart","data-chart":c,className:x("[&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border flex aspect-video justify-center text-xs [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-hidden [&_.recharts-sector]:outline-hidden [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-surface]:outline-hidden",t),...s,children:[(0,a.jsx)(v,{id:c,config:n}),(0,a.jsx)(i.u,{children:l})]})})}let v=e=>{let{id:r,config:t}=e,l=Object.entries(t).filter(e=>{let[,r]=e;return r.theme||r.color});return l.length?(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(g).map(e=>{let[t,a]=e;return"\n".concat(a," [data-chart=").concat(r,"] {\n").concat(l.map(e=>{var r;let[a,l]=e,n=(null===(r=l.theme)||void 0===r?void 0:r[t])||l.color;return n?"  --color-".concat(a,": ").concat(n,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},j=u.m;function y(e){let{active:r,payload:t,className:l,indicator:n="dot",hideLabel:s=!1,hideIndicator:o=!1,label:c,labelFormatter:i,labelClassName:u,formatter:m,color:h,nameKey:f,labelKey:g,activeItem:b}=e,{config:v}=function(){let e=d.useContext(p);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}(),j=d.useMemo(()=>{var e;if(s||!(null==t?void 0:t.length))return null;let[r]=t,l="".concat(g||(null==r?void 0:r.dataKey)||(null==r?void 0:r.name)||"value"),n=k(v,r,l),o=g||"string"!=typeof c?null==n?void 0:n.label:(null===(e=v[c])||void 0===e?void 0:e.label)||c;return i?(0,a.jsx)("div",{className:x("font-medium",u),children:i(o,t)}):o?(0,a.jsx)("div",{className:x("font-medium",u),children:o}):null},[c,i,t,s,u,v,g]);if(!r||!(null==t?void 0:t.length))return null;let y=1===t.length&&"dot"!==n,N=t.find(e=>e.dataKey===b),w=t;return N&&(w=t.filter(e=>e.dataKey===b)),(0,a.jsxs)("div",{className:x("border-border/50 bg-background grid min-w-[8rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl",l),children:[y?null:j,(0,a.jsx)("div",{className:"grid gap-1.5",children:w.map((e,r)=>{let t="".concat(f||e.name||e.dataKey||"value"),l=k(v,e,t),s=h||e.payload.fill||e.color;return(0,a.jsx)("div",{className:x("[&>svg]:text-muted-foreground flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5","dot"===n&&"items-center"),children:m&&(null==e?void 0:e.value)!==void 0&&e.name?m(e.value,e.name,e,r,e.payload):(0,a.jsxs)(a.Fragment,{children:[(null==l?void 0:l.icon)?(0,a.jsx)(l.icon,{}):!o&&(0,a.jsx)("div",{className:x("shrink-0 rounded-[2px] border-(--color-border) bg-(--color-bg)",{"h-2.5 w-2.5":"dot"===n,"w-1":"line"===n,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===n,"my-0.5":y&&"dashed"===n}),style:{"--color-bg":s,"--color-border":s}}),(0,a.jsxs)("div",{className:x("flex flex-1 justify-between leading-none",y?"items-end":"items-center"),children:[(0,a.jsxs)("div",{className:"grid gap-1.5",children:[y?j:null,(0,a.jsx)("span",{className:"text-muted-foreground",children:(null==l?void 0:l.label)||e.name})]}),e.value&&(0,a.jsx)("span",{className:"text-foreground font-mono font-medium tabular-nums",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})}function k(e,r,t){if("object"!=typeof r||null===r)return;let a="payload"in r&&"object"==typeof r.payload&&null!==r.payload?r.payload:void 0,l=t;return t in r&&"string"==typeof r[t]?l=r[t]:a&&t in a&&"string"==typeof a[t]&&(l=a[t]),l in e?e[l]:e[t]}m.s;let N=function(e){let{trends:r}=e,t=[];for(let e of["2024-09-07","2024-11-07","2025-02-06","2025-04-03"]){let a={date:e};for(let t of r){let r=t[e];r&&(a[t.name]=r)}t.push(a)}let i={};r.forEach(e=>{i[e.name]={label:e.name,color:e.color}});let[u,m]=(0,d.useState)(null);return(0,a.jsx)(b,{config:i,className:"min-h-[200px] h-[700px] w-full",children:(0,a.jsxs)(l.b,{accessibilityLayer:!0,data:t,margin:{left:12,right:12},children:[(0,a.jsx)(n.d,{}),(0,a.jsx)(s.W,{dataKey:"date"}),(0,a.jsx)(o.h,{reversed:!0}),(0,a.jsx)(j,{cursor:!0,content:(0,a.jsx)(y,{activeItem:u})}),r.map(e=>(0,a.jsx)(c.N,{dataKey:e.name,type:"linear",stroke:e.color,strokeWidth:r.length>10?2:4,dot:!0,onMouseEnter:()=>m(e.name),onMouseLeave:()=>m(null)},e.name))]})})};var w=t(54052),_=t.n(w);function C(e){let{label:r,checked:t,onChange:l,color:n}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer",style:{color:n},onClick:()=>l(!t),children:[(0,a.jsx)("input",{type:"checkbox",className:"w-4 h-4 cursor-pointer",checked:t,readOnly:!0}),(0,a.jsx)("span",{className:"truncate",children:r})]})}function T(e){let{trends:r,setTrends:t}=e,l=e=>{t(r=>r.map(r=>r.name===e.name?{...r,selected:!r.selected}:r))};return(0,a.jsxs)("div",{className:"flex flex-col gap-3 w-1/3",children:[(0,a.jsx)("h2",{className:"text-lg font-bold",children:"Technologies"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{className:"bg-amber-500 text-amber-950 px-4 py-2 rounded-md cursor-pointer disabled:opacity-50 disabled:cursor-auto",onClick:()=>t(e=>e.map(e=>({...e,selected:!0}))),disabled:r.every(e=>e.selected),children:"Select All"}),(0,a.jsx)("button",{className:"bg-amber-500 text-amber-950 px-4 py-2 rounded-md cursor-pointer disabled:opacity-50 disabled:cursor-auto",onClick:()=>t(e=>e.map(e=>({...e,selected:!1}))),disabled:r.every(e=>!e.selected),children:"Deselect All"})]}),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)("label",{htmlFor:"min-rank-change",className:"text-lg font-medium",children:"Min rank change"}),(0,a.jsx)("input",{type:"number",id:"min-rank-change",placeholder:"Search",className:"border-2 border-gray-300 rounded-md p-2",onChange:_()(e=>{t(r.map(r=>({...r,selected:r.range>=Number(e.target.value)})))},600)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[r.sort((e,r)=>e.name.localeCompare(r.name)).filter(e=>e.selected).map(e=>(0,a.jsx)(C,{label:e.name,checked:!0,onChange:()=>l(e),color:e.color},e.name)),r.sort((e,r)=>e.name.localeCompare(r.name)).filter(e=>!e.selected).map(e=>(0,a.jsx)(C,{label:e.name,checked:!1,onChange:()=>l(e),color:e.color},e.name))]})]})}function E(e,r){return e.map(e=>{let t=parseInt(e[r]);return{name:e.Technology,value:Number.isNaN(t)?1/0:t}}).toSorted((e,r)=>e.value-r.value).map((e,r)=>({name:e.name,newRank:r+1}))}var S=t(60408),K=t.n(S);function M(){let[e,r]=(0,d.useState)([]);return(0,d.useEffect)(()=>{(async()=>{try{let e=await fetch("/trends.csv");if(!e.ok)throw Error("Failed to fetch CSV file");let t=await e.text();console.log("\uD83D\uDE80 ~ fetchData ~ csvText:",t);let{data:a}=K().parse(t,{header:!0}),l=E(a,"2024-09-07"),n=E(a,"2024-11-07"),s=E(a,"2025-02-06"),o=E(a,"2025-04-03"),c=a.map(e=>{let r=l.find(r=>r.name===e.Technology).newRank,t=n.find(r=>r.name===e.Technology).newRank,a=s.find(r=>r.name===e.Technology).newRank,c=o.find(r=>r.name===e.Technology).newRank,d=Math.min(r,t,a,c),i=Math.max(r,t,a,c);return{name:e.Technology,"2024-09-07":r,"2024-11-07":t,"2025-02-06":a,"2025-04-03":c,min:d,max:i,range:i-d,color:function(e){let r=0;e.split("").forEach(e=>{r=e.charCodeAt(0)+((r<<5)-r)});let t="#";for(let e=0;e<3;e++)t+=(r>>8*e&255).toString(16).padStart(2,"0");return t}(e.Technology),selected:!1}});r(c)}catch(e){console.error("Fetch error:",e)}})()},[]),(0,a.jsxs)("main",{className:"p-4 bg-amber-50",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-center mb-4",children:"Technology Evolution Trends"}),(0,a.jsxs)("div",{className:"flex gap-2 bg-white p-4 rounded-lg",children:[(0,a.jsx)(T,{trends:e,setTrends:r}),(0,a.jsx)("div",{className:"border-l-2 border-gray-200 h-auto w-1"}),(0,a.jsx)("div",{className:"flex gap-2 w-2/3",children:(0,a.jsx)(N,{trends:e.filter(e=>e.selected)})})]})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[290,441,684,358],()=>r(27828)),_N_E=e.O()}]);